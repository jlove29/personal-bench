<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PersonalBench</title>
    <link rel="stylesheet" href="style.css">
    <script src="config.js"></script>
    <script src="sheets-api.js"></script>
    <script src="manage-prompts.js"></script>
</head>

<body>
    <!-- Loading Spinner -->
    <div id="loading">
        <div class="spinner"></div>
    </div>

    <div class="manage-container">
        <!-- Error Message -->
        <div id="error-message"></div>

        <!-- Authorization Button -->
        <button id="authorize-btn" class="authorize-btn" onclick="authorizeUser()">Sign in with Google</button>

        <!-- Main Content (shown after authorization) -->
        <div id="main-content">
            <div class="button-toolbar">
                <a href="index.html" class="back-link">‚Üê Back to Home</a>
                <button class="add-prompt-btn" onclick="showPromptModal()">+ Add New Prompt</button>
                <div id="sheet-link"></div>
            </div>

            <div class="prompts-section" id="prompts-container">
                <!-- Prompts will be loaded here dynamically -->
            </div>
        </div>
    </div>

    <!-- Add/Edit Prompt Modal -->
    <div id="prompt-modal" class="modal">
        <div class="modal-content">
            <h2 id="modal-title">Add New Prompt</h2>

            <div class="form-group">
                <label for="prompt-title">Title</label>
                <input type="text" id="prompt-title" placeholder="Enter prompt title">
            </div>

            <div class="form-group">
                <label for="prompt-content">Content</label>
                <textarea id="prompt-content" placeholder="Enter prompt content"></textarea>
            </div>

            <div class="form-group">
                <label for="prompt-category">Category (optional)</label>
                <input type="text" id="prompt-category" placeholder="e.g., Coding, Writing, Analysis">
            </div>

            <div class="modal-actions">
                <button class="btn btn-cancel" onclick="hidePromptModal()">Cancel</button>
                <button class="btn btn-save" onclick="savePrompt()">Save</button>
            </div>
        </div>
    </div>

    <!-- Add Model Response Modal -->
    <div id="response-modal" class="modal">
        <div class="modal-content">
            <h2>Add Model Response</h2>
            <p style="color: #666; margin-bottom: 20px;">For prompt: <strong id="response-prompt-title"></strong></p>

            <div class="form-group">
                <label for="response-model-name">Model Name</label>
                <input type="text" id="response-model-name" placeholder="e.g., GPT-4, Claude 3.5, Gemini Pro">
            </div>

            <div class="form-group">
                <label for="response-content">Response</label>
                <textarea id="response-content" placeholder="Enter the model's response"
                    style="min-height: 150px;"></textarea>
            </div>

            <div class="form-group">
                <label for="response-metadata">Metadata (optional JSON)</label>
                <textarea id="response-metadata" placeholder='{"temperature": 0.7, "tokens": 150}'
                    style="min-height: 60px; font-family: monospace;"></textarea>
                <small style="color: #666;">Optional: Add metadata as JSON (e.g., temperature, token count,
                    etc.)</small>
            </div>

            <div class="modal-actions">
                <button class="btn btn-cancel" onclick="hideResponseModal()">Cancel</button>
                <button class="btn btn-save" onclick="saveResponse()">Save Response</button>
            </div>
        </div>
    </div>
</body>

</html>